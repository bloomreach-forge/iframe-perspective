<!DOCTYPE html>
    <!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2023-04-05 
 | Rendered using Bloomreach Forge Maven Skin 3.2.0 based on Apache Maven Fluido Skin
-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                  <meta name="Date-Revision-yyyymmdd" content="20230405" />
              <meta http-equiv="Content-Language" content="en" />
      <title>Bloomreach IFrame Perspective &#x2013; How to install the IFrame Perspective Plugin</title>
  <link rel="stylesheet" href="./css/forge-maven-skin-syntaxhighlighter-3.2.0.min.css"/>
  <link rel="stylesheet" href="./css/forge-maven-skin-3.2.0.min.css"/>
  <link rel="stylesheet" href="./css/site.css" />
  <link rel="stylesheet" href="./css/print.css" media="print" />
  <link rel="icon" type="image/png" href="./images/skin/logo_64.png" sizes="64x64">

  
  <script type="text/javascript" src="./js/forge-maven-skin-syntaxhighlighter-3.2.0.min.js"></script>
  <script type="text/javascript" src="./js/forge-maven-skin-3.2.0.min.js"></script>

    </head>
<body class="topBarDisabled">
                        <a href="https://github.com/bloomreach-forge/iframe-perspective">
    <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
         src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
         alt="Fork me on GitHub">
  </a>
          <div class="container-fluid">
  <div id="banner">
    <div id="logo">
                        <a href="https://bloomreach-forge.github.io">
        <img src="./images/skin/logo.png" alt="Bloomreach Forge Logo" />
      </a>
    </div>
    <div class="pull-left">              <div id="bannerLeft">    <h1>Bloomreach Forge IFramePerspective Plugin</h1>
    </div>
              </div>
    <div class="pull-right"></div>
    <div class="clear"><hr/></div>
  </div>

  <div id="breadcrumbs">
                            <div class="links">
      <a href="https://xmdocumentation.bloomreach.com">xmdocumentation.bloomreach.com</a>
      <a href="https://developers.bloomreach.com">developers.bloomreach.com</a>
    </div>
    <ul class="breadcrumb">
    
  <li id="publishDate">published: 2023-04-05  
  </li>
  
        
            </ul>
    <div class="clear"><hr/></div>
  </div>
<div class="row-fluid">
  <div id="leftColumn" class="span2">
    <div class="well sidebar-nav">
    
    <ul class="nav nav-list">
            <li class="nav-header">Home</li>
              <li>  <a href="index.html" title="Home">  <span class="none"></span>  Home</a>  </li>
        <li>  <a href="release-notes.html" title="Release Notes">  <span class="none"></span>  Release Notes</a>  </li>
                  <li class="nav-header">Usage</li>
              <li class="active">  <a href="#"><span class="none"></span>Installation</a>
  </li>
        <li>  <a href="non-wicket-comp-pages.html" title="Secure non-Wicket-component based pages">  <span class="none"></span>  Secure non-Wicket-component based pages</a>  </li>
                  <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                            <li>  <a href="project-info.html" title="Project Information">  <span class="icon-chevron-right"></span>  Project Information</a>  </li>
        </ul>
    
          <hr />
      <div id="poweredBy">
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
              <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">  <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />  </a>
          </div>
    </div>
  </div>
  <div id="bodyColumn"  class="span10" >
    
  
    <section>
<h2><a name="How_to_install_the_IFrame_Perspective_Plugin"></a>How to install the IFrame Perspective Plugin</h2>

      
<div class="alert alert-warning">
        Note: to install this plugin in <b>Bloomreach Experience Manager 13 or earlier</b>, follow
        <a href="install_v13.html">How to install in brXM 13 or earlier</a> page.
      </div>

      <section>
<h3><a name="Prerequisites"></a>Prerequisites</h3>
        
<p>
          These instruction assumes that you have Maven based build for your project.
        </p>
      </section>

      <section>
<h3><a name="Add_the_Forge_repository_configuration"></a>Add the Forge repository configuration</h3>
        
<p>In the main <code>pom.xml</code> of the project, in the <code>repositories</code> section, add this repository if it is not configured there yet.</p>
        
<div class="brush: xml">
          
<div class="source"><pre>
    &lt;repository&gt;
      &lt;id&gt;hippo-forge&lt;/id&gt;
      &lt;name&gt;Bloomreach Forge Maven 2 repository.&lt;/name&gt;
      &lt;url&gt;https://maven.onehippo.com/maven2-forge/&lt;/url&gt;
      &lt;snapshots&gt;
        &lt;enabled&gt;false&lt;/enabled&gt;
      &lt;/snapshots&gt;
      &lt;releases&gt;
        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;
      &lt;/releases&gt;
      &lt;layout&gt;default&lt;/layout&gt;
    &lt;/repository&gt;
        </pre></div>
        </div>
      </section>

      <section>
<h3><a name="Add_version_property_to_the_project_pom"></a>Add version property to the project pom</h3>
        
<p>In the main <code>pom.xml</code> of the project, in the properties section, add this property. For the correct version number, check the <a href="release-notes.html">Release Notes</a> page.</p>
        
<div class="brush: xml">
          
<div class="source"><pre>
    &lt;bloomreach.forge.iframeperspective.version&gt;version.number&lt;/bloomreach.forge.iframeperspective.version&gt;
        </pre></div>
        </div>
      </section>

      <section>
<h3><a name="Maven_Dependency"></a>Maven Dependency</h3>
        
<p>Make sure you have the dependency definition in the root pom.xml of your project:</p>
        
<div class="source"><pre>
&lt;dependencyManagement&gt;
  &lt;dependencies&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.bloomreach.forge.iframeperspective&lt;/groupId&gt;
      &lt;artifactId&gt;iframeperspective&lt;/artifactId&gt;
      &lt;version&gt;${bloomreach.forge.iframeperspective.version}&lt;/version&gt;
    &lt;/dependency&gt;

  &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;
        </pre></div>
        
<p>
          Add the following dependency to either <code>cms-dependencies/pom.xml</code>
          or <code>cms/pom.xml</code> in the earlier versions that don't have that:
        </p>
        
<div class="source"><pre>
  &lt;dependencies&gt;

    &lt;dependency&gt;
      &lt;groupId&gt;org.bloomreach.forge.iframeperspective&lt;/groupId&gt;
      &lt;artifactId&gt;iframeperspective&lt;/artifactId&gt;
    &lt;/dependency&gt;

  &lt;/dependencies&gt;
        </pre></div>
      </section>

      <section>
<h3><a name="Add_the_plugin_configuration_to_the_repository"></a>Add the plugin configuration to the repository</h3>
        
<p>
          To add an IFrame based perspective configuration, add configuration nodes to the
          <code>/hippo:configuration/hippo:frontend/cms/cms-static/</code> node in the repository.
          In the following example two IFrame based perspectives are added.
        </p>
        
<div class="source"><pre>
definitions:
  config:
    /hippo:configuration/hippo:frontend/cms/cms-static:
      /example-iframe-perspective:
        jcr:primaryType: frontend:plugin
        jcr:mixinTypes: ['frontend:navigationitem']
        frontend:appPath: example-iframe-perspective
        hipposys:userrole: xm.cms.user
        plugin.class: org.bloomreach.forge.iframeperspective.IFramePerspective
        wicket.id: service.tab
        iframe.src: https://bloomreach-forge.github.io/
      /example-iframe-perspective-second:
        jcr:primaryType: frontend:plugin
        jcr:mixinTypes: ['frontend:navigationitem']
        frontend:appPath: example-iframe-perspective-second
        hipposys:userrole: xm.cms.user
        plugin.class: org.bloomreach.forge.iframeperspective.IFramePerspective2
        wicket.id: service.tab
        iframe.src: https://bloomreach-forge.github.io/iframe-perspective/
        </pre></div>

        
<p>
          <i>Note:</i> each perspective must have unique, mandatory <code>frontend:appPath</code> property. See also
          <a class="externalLink" href="https://documentation.bloomreach.com/library/concepts/editor-interface/cms-perspectives.html">Create a Custom Perspective</a>
          page for more detail.
        </p>
        
<p>
          <i>Note:</i> the CMS UI does not support multiple custom perspective plugin configurations
          with the same <code>plugin.class</code> property value. That's why the second example shown above is set to use
          <code>org.bloomreach.forge.iframeperspective.IFramePerspective2</code> instead.
          For convenience, this project provides 9 different class names for the same feature
          (<code>org.bloomreach.forge.iframeperspective.IFramePerspective2</code> ~ <code>org.bloomreach.forge.iframeperspective.IFramePerspective10</code>).
          This allows developers to avoid adding a custom class extending <code>org.bloomreach.forge.iframeperspective.IFramePerspective</code>
          in their projects.
        </p>

        
<p>
          Also, the translation key-value pairs for each perspective must be added to <code>/hippo:configuration/hippo:translations/hippo:navigation/navigationitem</code>
          like the following example:
        </p>
        
<div class="source"><pre>
definitions:
  config:
    /hippo:configuration/hippo:translations/hippo:navigation/navigationitem/displayName/en:
      example-iframe-perspective: Example IFrame Perspective
      example-iframe-perspective-second: Example IFrame Perspective 2nd
        </pre></div>

        
<p>
          <i>Note:</i> The translation keys must be the same as the <code>frontend:appPath</code> property values.
          See the
          <a class="externalLink" href="https://documentation.bloomreach.com/library/concepts/editor-interface/cms-perspectives.html">Create a Custom Perspective</a>
          page for further detail.
        </p>

      </section>
      <section>
<h3><a name="Plugin_Configuration_Details"></a>Plugin Configuration Details</h3>
        
<p>You can configure the followings:</p>
        
<table border="0" class="table table-striped">
          
<tr class="a">
            
<th>Property</th>
            
<th>Example value</th>
            
<th>Default value</th>
            
<th>Description</th>
          </tr>
          
<tr class="b">
            
<td>iframe.src</td>
            
<td>http://documentation.bloomreach.org</td>
            
<td></td>
            
<td>The initial source of the IFrame element</td>
          </tr>
          
<tr class="a">
            
<td>x-frame-options</td>
            
<td>SAMEORIGIN</td>
            
<td></td>
            
<td>
              Optionally set <b>X-Frame-Options</b> response header if configured.
              <br />
              See <a class="externalLink" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/X-Frame-Options" target="_blank">https://developer.mozilla.org/en-US/docs/Web/HTTP/X-Frame-Options</a> for details.
            </td>
          </tr>
          
<tr class="b">
            
<td>content-security-policy</td>
            
<td>Refer to the specification</td>
            
<td></td>
            
<td>
              Optionally set <b>Content-Security-Policy</b> response header if configured.
              <br />
              See <a class="externalLink" href="https://developer.mozilla.org/en-US/docs/Web/Security/CSP/Introducing_Content_Security_Policy" target="_blank">https://developer.mozilla.org/en-US/docs/Web/Security/CSP/Introducing_Content_Security_Policy</a>
              and <a class="externalLink" href="https://www.owasp.org/index.php/Content_Security_Policy">https://www.owasp.org/index.php/Content_Security_Policy</a>
              for details.
            </td>
          </tr>
          
<tr class="a">
            
<td>x-content-security-policy</td>
            
<td>Refer to the specification</td>
            
<td></td>
            
<td>
              Optionally set <b>X-Content-Security-Policy</b> response header if configured.
              <br />
              See <a class="externalLink" href="https://developer.mozilla.org/en-US/docs/Web/Security/CSP/Introducing_Content_Security_Policy" target="_blank">https://developer.mozilla.org/en-US/docs/Web/Security/CSP/Introducing_Content_Security_Policy</a>
              and <a class="externalLink" href="https://www.owasp.org/index.php/Content_Security_Policy">https://www.owasp.org/index.php/Content_Security_Policy</a>
              for details.
            </td>
          </tr>
          
<tr class="b">
            
<td>x-webkit-csp</td>
            
<td>Refer to the specification</td>
            
<td></td>
            
<td>
              Optionally set <b>X-Webkit-CSP</b> response header if configured.
              <br />
              See <a class="externalLink" href="https://developer.mozilla.org/en-US/docs/Web/Security/CSP/Introducing_Content_Security_Policy" target="_blank">https://developer.mozilla.org/en-US/docs/Web/Security/CSP/Introducing_Content_Security_Policy</a>
              and <a class="externalLink" href="https://www.owasp.org/index.php/Content_Security_Policy">https://www.owasp.org/index.php/Content_Security_Policy</a>
              for details.
            </td>
          </tr>
          
<tr class="a">
            
<td>iframe.*</td>
            
<td></td>
            
<td></td>
            
<td>
              If there is any property with name starting with 'iframe.', then the remaining part after 'iframe.' will be added
              as an additional attribute of the iframe element.
              For example, if you add 'iframe.name' with value, 'myiframe', then the iframe will have <code>name=&quot;myiframe&quot;</code> HTML attribute.
            </td>
          </tr>
        </table>
      </section>
      <section>
<h3><a name="Add_another_value_to_the_existing_frame-src_property"></a>Add another value to the existing frame-src property</h3>
        
<p>
          Add another value i.e. &quot;bloomreach-forge.github.io&quot; to the frame-src property of the
          <code>/hippo:configuration/hippo:modules/application-settings/hippo:moduleconfig/content-security-policy</code> node in the repository.
        </p>
        
<div class="source"><pre>
definitions:
  config:
    /hippo:configuration/hippo:modules/application-settings/hippo:moduleconfig/content-security-policy:
      frame-src:
        operation: add
        value: [bloomreach-forge.github.io]
        </pre></div>
      </section>

    </section>
  

    </div>
    </div>
    </div>
    <hr/>
    <footer>
    <div class="container-fluid">
      <div class="row-fluid">
          <p class="copyright">Copyright &copy;      2007&#x2013;2023
              <a href="https://www.bloomreach.com/">Bloomreach</a>.
          
</p>
    </div>
            </div>
  </footer>
    </body>
</html>

